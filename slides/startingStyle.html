<section id="starting-style-info">
  <h3>@starting-style</h3>

  <div class="baseline-container">
    <baseline-status featureId="starting-style"></baseline-status>
  </div>

  <ul>
    <li>
      The <code>@starting-style</code> rule allows styles to be applied at the
      start of an animation or transition.
    </li>
    <li>
      Specifies how elements should appear before the first frame is rendered.
    </li>
  </ul>
</section>
<section id="starting-style-demo-popover">
  <h3>@starting-style demo with js</h3>
  <div class="slide-container">
    <pre class="visible-code-block">
        <code class="code-block hljs" data-trim contenteditable="true">
          <style>
            [popover] {
              width: calc(100% - 3rem);
              margin: 1.5rem;
              background: black;
              transform-origin: bottom center;

              transition: all 0.4s ease-in-out allow-discrete;       
              opacity: 0;
              transform: translate(100%, 0) rotateX(0) scale(0.8);
            }

            [popover]:popover-open {
              display: flex;
              transform: translate(0, 0) rotateX(0) scale(0.8);
              opacity: 1;
            }

            [popover].start {
              transition: none;
              transform: translate(0, -120%) rotateX(90deg) scale(0.8);
            }
          </style>

          <div class="container">
            <button id="openPopover-1" popovertarget="my-popover-startStyle-0">Open Popover</button>
            <div class="popover" id="my-popover-startStyle-0" popover>
              <p>I am a Popover</p>
            </div>
          </div>
          <script>
            (() => {
              const openBtn = document.getElementById('openPopover-1');
              const popover = document.getElementById('my-popover-startStyle-0');

              function openPopover() {
                popover.classList.add('start');
          
                setTimeout(() => { popover.classList.remove('start')}, 100)
              }

              openBtn.addEventListener('click', openPopover);
            })();
          </script>
        </code>
      </pre>

    <script type="text/template" class="hidden-code-block">
      <style>
        .container {
          display: grid;
          place-items: center;
        }

        button {
          color: white;
          padding: 1rem;
          transition-duration: 0.3s;
          border: none;
          background: black;
          border-radius: 1rem;

          &:hover,
          &:focus {
            background: plum;
            color: white;
          }
        }

        [popover] {
          color: white;
          font-weight: 400;
          padding: 1rem 1.5rem;
          border-radius: 1rem;
          line-height: 1.4;
          margin: 0 auto;
          box-shadow: 5px 5px 10px rgba(0,0,0,0.2);
          box-sizing: border-box;
          margin: 1rem;
        }

        body {
          background: #fcf9fb;
          display: grid;
          font-size: 1.5rem;
          font-family: system-ui, sans-serif;
          place-items: center;
          height: 100dvh;
        }
      </style>
    </script>
    <div class="scene" data-edit></div>
  </div>
</section>
<section id="starting-style-demo-popover-complete">
  <h3>@starting-style demo complete</h3>
  <div class="slide-container">
    <pre class="visible-code-block">
        <code class="code-block hljs" data-trim contenteditable="true">
          <style>
            [popover] {
              width: calc(100% - 3rem);
              margin: 1.5rem;
              background: black;
              transform-origin: bottom center;

              transition: all 0.4s ease-in-out allow-discrete;       
              opacity: 0;
              transform: translate(100%, 0) rotateX(0) scale(0.8);
            }

            [popover]:popover-open {
              display: flex;
              transform: translate(0, 0) rotateX(0) scale(0.8);
              opacity: 1;

              @starting-style {
                transform: translate(0, -100%) rotateX(90deg) scale(0.8);
              }
            }
          </style>

          <div class="container">
            <button popovertarget="my-popover-startStyle-1">Open Popover</button>
            <div class="popover" id="my-popover-startStyle-1" popover>
              <p>I am a Popover</p>
            </div>
          </div>
        </code>
      </pre>

    <script type="text/template" class="hidden-code-block">
      <style>
        .container {
          display: grid;
          place-items: center;
        }

        button {
          color: white;
          padding: 1rem;
          transition-duration: 0.3s;
          border: none;
          background: black;
          border-radius: 1rem;

          &:hover,
          &:focus {
            background: plum;
            color: white;
          }
        }


        [popover] {
          color: white;
          font-weight: 400;
          padding: 1rem 1.5rem;
          border-radius: 1rem;
          line-height: 1.4;
          margin: 0 auto;
          box-shadow: 5px 5px 10px rgba(0,0,0,0.2);
          box-sizing: border-box;
          margin: 1rem;
        }

        body {
          background: #fcf9fb;
          display: grid;
          font-size: 1.5rem;
          font-family: system-ui, sans-serif;
          place-items: center;
          height: 100dvh;
        }
      </style>
    </script>
    <div class="scene" data-edit></div>
  </div>
</section>
